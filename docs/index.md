# Introduction

Lamarkdown is a command-line document preparation system based on [Python-Markdown][]. It attempts to address similar use cases to LaTeX, but using the Markdown and HTML formats. It is _not_ directly intended to build static websites, though its [extensions](extensions/index.md) can be reused in [MkDocs][] (or in other applications based on Python-Markdown).

Take the [Lamarkdown tour](tour.md) to get a first impression.

[Python-Markdown]: https://python-markdown.github.io
[MkDocs]: https://www.mkdocs.org/


## Requirements and Installation

Lamarkdown depends on Python 3.8+. To install via pip:

```console
$ pip install lamarkdown
```

There are optional dependencies that you'll need to install separately, to make use of certain Lamarkdown features.

* For embedding LaTeX diagramming code, you need a Latex distribution (e.g., [TeX Live][]), and a PDF-to-SVG conversion tool. (Lamarkdown can embed LaTeX mathematical expressions _without_ a LaTeX distribution, and does not require LaTeX for any part of its core operation.)

* Similarly, to embed the output of [Graphviz][], [Matplotlib][], [R (for plotting)][R], or [PlantUML][], you will also need to install these yourself.

[TeX Live]: https://tug.org/texlive/
[Graphviz]: https://graphviz.org/
[Matplotlib]: https://matplotlib.org/
[R]: https://www.r-project.org/
[PlantUML]: https://plantuml.com/


## Basic Usage

To compile `mydocument.md` into `mydocument.html`, run:

```console
$ lamd mydocument.md
```

To enable the live-update mode, use `-l`/`--live`:

```console
$ lamd -l mydocument.md
```

This will launch a local web-server and a web-browser, and will keep `mydocument.html` in sync with any changes made to `mydocument.md`, until you press Ctrl+C in the terminal.

For detailed usage, Lamarkdown's documentation is structured as follows:

* The [Tour][tour] gives a glimpse of Lamarkdown's key features, to give you an overall sense of what's possible.
* The [Core Functionality][core] section describes the essential workings of Lamarkdown, including [build files][] (at a conceptual level), [directives][], [variants][], [`allow_exec`][allow_exec], [resource processing][] and [caching][].
* The [Extensions][extensions] section covers add-on Markdown functionality. Extensions (often) make changes to the Markdown syntax, to introduce additional capabilities.
* The [Build Modules][modules] section covers pre-designed bundles of reusable configuration.
* The [Build File API][api] section specifies all programmatic Lamarkdown functionality accessible to a build file.

<!--## Concepts

To use Lamarkdown effectively, it's helpful to understand the following:

* [Extensions][]. These are plugins for the core Python-Markdown engine, and they can alter the Markdown language in arbitrary ways, generally by adding or modifying certain syntactical constructs. To create an extension, you must be familiar with the Python-Markdown API for doing so, but there are many pre-existing extensions available.

* [Build Files][]. These are `.py` scripts that configure options for an individual markdown document, or group of documents. These would generally be written by the author of the document(s), using the [Build File API][api]. A build file can cause certain extensions to be loaded (with certain options), specify CSS styles and JS scripts for the document generated, query or alter the output document structure, and define [Variants](variants.md). (Variants are multiple output documents produced from a single input `.md` file, using different build options.)

* [Build Modules][modules] -- reusable bundles of configuration, to be invoked by build files.

* [Output Directives](output_processing/index.md) -- temporary HTML attributes (not part of the actual HTML output) that specify certain output characteristics. They can be used to specify list labels, image scales, and media embedding, for instance. Directive names begin with "`:`", to distinguish them from real HTML attributes.-->


## Why Lamarkdown?

Lamarkdown addresses a need for creating accessible, portable (and optionally scriptable) documents, using a maximally-readable plain-text source format, and a programmable build process.

### Word Processors, LaTeX and PDFs

WYSIWYG word processors (Word, LibreOffice, Google Docs and others) are perhaps the most-used document-preparation systems. These are highly successful applications, but the endurance of LaTeX, despite its learning curve, demonstrates a long-standing demand for plain-text document creation as well.

LaTeX (and TeX in general) offers transparency. The PDF files generated by `pdftex`, `xetex` and `luatex` depend only on the text you explicitly write. There are no invisible elements or hidden dimensions to a LaTeX document; all factors affecting the output are plainly visible as text. You can edit a LaTeX document with any of hundreds of different editors, and have no concern that some hidden property might change beyond your control (leaving the document unpredictably reformatted or corrupted). LaTeX also encourages greater focus on pure content, while the compiler makes sensible stylistic decisions automatically. Both these things promote consistency and (subject to a learning curve) productivity.

TeX/LaTeX is extensible, but also has distinct weaknesses:

* It was designed to produce static, paginated, printable documents, whereas documents today are rarely printed. It was not designed to produce re-flowable documents that can be presented at different sizes, or documents accessible to vision-impared people. The Portable Document Format (PDF) struggles to address these issues itself, and is difficult to work with programmatically.

* LaTeX code is relatively verbose, which can limit its productivity benefits.

<!--* For developers seeking programmatic features---variables/functions (macros), conditionality, looping, etc.---the Tex/LaTeX implementation of these features seems esoteric compared with modern programming languages.-->


### Markdown and HTML

The Markdown format shares many of LaTeX's advantages, but was designed for purely electronic communication. It is conventionally compiled into HTML, a universally-supported, re-flowable format that retains structural semantics needed for screen readers. Markdown is one of a number of plain-text formats to do this, but is notable for its minimalistic syntax and widespread use. (HTML itself can be written manually, but being even more verbose than LaTeX, and without any "compile-time" extensibility, this is difficult to do productively.)

<!-- Insert some basic Markdown as an example? -->

Markdown is commonly used to build static websites. Various tools exist to convert a collection of `.md` (Markdown) files into a collection of `.html` files, to be uploaded to a webserver. For instance, _this site_ was generated from Markdown files using [MkDocs][], which uses the [Python-Markdown][] library.

<!-- Python-Markdown and other engines have extension mechanisms, through which additional capabilities have been added to the original language. -->

However, this is a different use case from the preparation of individual, standalone documents, as done through LaTeX. Markdown, as a format, is an attractive choice for _both_ use cases, but standalone document preparation has certain extra or different requirements:

* Documents should be viewable without any webserver infrastructure (or external services), since this is not feasible or sustainable for documents in general. Even if infrastructure or services can be set up, they may not have the required longevity.

* Documents should be self-contained (like PDFs in general), so they can be stored and exchanged without risk of losing resources "contained" within them.

* While we'd like the _option_ for documents to be scriptable, they should ideally not _depend_ on scripting, and if possible contain no executable code at all. Scripting is subject to ongoing change. API features may be deprecated and abandoned in the future, for security, efficiency or maintenance reasons, under the assumption that affected _websites_ are being actively maintained, and can simply adapt. Such future changes could render a script-dependent document suddenly unviewable, perhaps without anyone noticing for some time until the document is needed.

* Document preparation benefits from specific features not necessarily present in static site generators:

    * Citation and reference formatting;
    * Automatic numbering of sections, figures, tables, etc., and cross-referencing using such numbers;
    * Captioning of figures, tables, etc.;
    * Creation of graphical content within the document;
    * Creation of arbitrarily-complex tables;
    * Creation of alternate document versions from the same source.


<!-- Learnability, high-functioning defaults -->


<!--    (Any

    Directives are not really part of the markdown syntax itself; they are implicitly available through existing -->


<!--## Topics

For more advanced usage, see the following:

* [Live Updating](live_updating.md)
* [Build Files](index.md)
* [Variants](variants.md)
* [Build Modules](build_modules/index.md)
* [Extensions](extensions/index.md)
    * [Eval](extensions/eval.md)
    * [Heading Numbers](extensions/heading_numbers.md)
    * [Latex](extensions/latex.md)
    * [Markers](extensions/latex.md)
    * [Sections](extensions/sections.md)
* [API Reference](api_reference.md)-->


[allow_exec]: core.md#allow_exec
[api]: api.md
[build files]: core.md#build_files
[caching]: core.md#caching
[core]: core.md
[directives]: core.md#directives
[extensions]: extensions/index.md
[modules]: modules/index.md
[resource processing]: core.md#resources
[tour]: tour.md
[variants]: core.md#variants
